(self.webpackChunkmomentum_extension=self.webpackChunkmomentum_extension||[]).push([[15,672,568],{8094:(t,o,e)=>{"use strict";e.d(o,{Z:()=>n});let s={};const n={bind:function(t,o){let e,n;t.dataset.justBoundClickOutsideHandler=!0,setTimeout((()=>{t.dataset.justBoundClickOutsideHandler=!1}),100);const a=t=>{n=!1,(t=>t&&t.clientX>window.innerWidth)(t)?n=!0:e=t.target},d=s=>{n||(o.modifiers.bubble||!t.contains(e)&&!t.contains(s.target)&&t!==e&&t!==s.target&&"true"!==t.dataset.justBoundClickOutsideHandler)&&o.value(s)};t.dataset.clickOutsideMouseupHandlerId=Math.random().toString(36).substring(7),t.dataset.clickOutsideMousedownHandlerId=Math.random().toString(36).substring(7),s[t.dataset.clickOutsideMouseupHandlerId]=d,s[t.dataset.clickOutsideMousedownHandlerId]=a,document.addEventListener("mouseup",d),document.addEventListener("mousedown",a)},unbind:function(t){document.removeEventListener("mouseup",s[t.dataset.clickOutsideMouseupHandlerId]),document.removeEventListener("mousedown",s[t.dataset.clickOutsideMousedownHandlerId]),delete s[t.dataset.clickOutsideMouseupHandlerId],delete s[t.dataset.clickOutsideMousedownHandlerId],delete t.dataset.clickOutsideMouseupHandlerId,delete t.dataset.clickOutsideMousedownHandlerId,delete t.dataset.justBoundClickOutsideHandler}}},698:(t,o,e)=>{(t.exports=e(7788)(!1)).push([t.id,"\n.focus[data-v-20431cdb] { width: 100%; position: relative; display: inline-block !important; overflow: visible;\n}\n.focus .focus-title[data-v-20431cdb] { margin: 17px 0 3px; font-size: 70%; line-height: 120%; text-transform: uppercase;\n}\n.focus-content[data-v-20431cdb] { width: 100%; position: absolute; top: 0; font-size: 1.875em;\n}\n.focus-row[data-v-20431cdb] { justify-content: center; font-size: 120%; line-height: 120%;\n}\n.todays-focus[data-v-20431cdb] { max-width: 87%; margin: 3px 0; display: inline-block; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.complete .todays-focus[data-v-20431cdb] { text-decoration: line-through; opacity: 0.85;\n}\n.control[data-v-20431cdb] { display: inline-flex; opacity: 0; cursor: pointer; transform-origin: 50% 50%; vertical-align: top;\n}\n.focus-wrapper:hover .control[data-v-20431cdb] { opacity: 0.8;\n}\n.complete .control[data-v-20431cdb] { opacity: 1 !important;\n}\n\n\t\t/* set a transition for the checking off */\n.col-checkbox[data-v-20431cdb] { justify-content: flex-end;\n}\n.checkbox[data-v-20431cdb] { margin-top: -7px; margin-right: 0.15em; padding: 7px; position: relative; border: none; font-size: 70%; line-height: 1; text-align: left; text-shadow: 0 0 15px rgba(0,0,0,0.3);\n}\n.checkbox[data-v-20431cdb]:hover { opacity: 1;\n}\n.focus-open[data-v-20431cdb] { display: block; margin-left: -1.7px;\n}\n.focus-done[data-v-20431cdb] { display: none;\n}\n.complete .focus-done[data-v-20431cdb] { display: block; opacity: 0.85;\n}\n.checkbox .focus-done[data-v-20431cdb] { position: absolute;\n}\n.col-dropdown[data-v-20431cdb] {\n}\n[data-v-20431cdb] .more {\n}\n.focus-row[data-v-20431cdb] .more-toggle { margin-top: 5px; margin-left: 15px;\n}\n.focus-row[data-v-20431cdb] .icon-wrapper:after { --icon-wrapper-size: 28px;\n}\n.focus-row[data-v-20431cdb] .more-icon { height: 17px;\n}\n.focus-dropdown[data-v-20431cdb] {\n}\n.focus-dropdown[data-v-20431cdb] .dropdown { margin-top: 4px; left: 6px;\n}\n.focus-dropdown .icon-new[data-v-20431cdb] { height: 9px; transform: rotate(45deg);\n}\n.focus-dropdown .icon-delete[data-v-20431cdb] { height: 10px; margin-top: 1px;\n}\n.focus-dropdown .icon-pomodoro[data-v-20431cdb] { height: 15px;\n}\n.focus-dropdown .icon-autofocus[data-v-20431cdb] { height: 9px;\n}\n.focus-dropdown.shift-to-left[data-v-20431cdb] .more-dropdown { left: auto; right: -11px\n}\n.focus-dropdown.shift-to-left[data-v-20431cdb] .more-dropdown.nipple-top-left:after { left: auto; right: 14px;\n}\n.prompt.fake[data-v-20431cdb] { visibility: hidden;\n}\n\n",""])},3387:(t,o,e)=>{(t.exports=e(7788)(!1)).push([t.id,"\n.dropdown[data-v-c8d4d4da] { display: block;\n} /* Override general stylesheet dropdown styling for display: block, but move to this when refactor complete; */\n.dropdown-hide[data-v-c8d4d4da] { opacity: 0;\n}\n.dropdown-visible .icon[data-v-c8d4d4da] { opacity: 0.8;}\n.open-enter-active[data-v-c8d4d4da], .open-leave-active[data-v-c8d4d4da] { transition: opacity 0.1s ease;\n} /* Consolidate this with center nav and other animations? */\n.open-enter[data-v-c8d4d4da], .open-leave-to[data-v-c8d4d4da] { opacity: 0;\n}\n\n",""])},5015:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>r});var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"focus"},[t.inPomodoro?t._e():e("div",{staticClass:"prompt fake"},[e("h3",[t._v("What is your main focus for today?")]),t._v(" "),e("input")]),t._v(" "),e("div",{staticClass:"focus-content"},[t.inPomodoro?t._e():e("h3",{staticClass:"focus-title"},[t._v("Today")]),t._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{key:t.focus.content,staticClass:"focus-row has-3-col",class:{complete:t.focus.completed}},[e("span",{staticClass:"side-col col-checkbox"},[e("span",{staticClass:"control checkbox",attrs:{"data-test":"complete"},on:{click:function(o){return t.$emit("complete")}}},[e("i",{staticClass:"icon icon-checkbox-empty focus-open"}),t._v(" "),e("i",{staticClass:"icon icon-checkbox focus-done"})])]),t._v(" "),e("span",{staticClass:"center-col todays-focus",attrs:{"data-test":"focus-active"}},[t._v(t._s(t.focus.content))]),t._v(" "),e("div",{staticClass:"side-col dropdown-col"},[e("dropdown",{staticClass:"focus-dropdown has-3-col",attrs:{"data-test":"dropdown","show-dropdown":t.showDropdown},on:{"show-dropdown-change":t.changeShowDropdown}},[t.focus.completed?t._e():e("dropdown-option",{staticClass:"focus-edit",attrs:{name:"Edit","data-test":"edit"},nativeOn:{click:function(o){return t.handleDropdownClick("edit")}}},[e("svg",{staticClass:"dropdown-list-icon icon icon-edit",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M15.067 3.986a.5.5 0 0 0-.708-.001L3.437 14.91a.5.5 0 0 0 0 .707l4.948 4.948a.5.5 0 0 0 .707 0L20.009 9.648a.5.5 0 0 0 0-.706l-4.942-4.956zM2.43 16.8a.5.5 0 0 0-.84.237L.084 23.314a.501.501 0 0 0 .603.602l6.272-1.5a.5.5 0 0 0 .237-.84L2.43 16.8zM23.2 2.924L21.077.8a2.5 2.5 0 0 0-3.532 0l-1.418 1.417a.5.5 0 0 0 0 .707l4.95 4.949a.5.5 0 0 0 .707 0L23.2 6.454a2.5 2.5 0 0 0 0-3.53z"}})])]),t._v(" "),e("dropdown-option",{staticClass:"focus-clear",attrs:{name:"Clear","data-test":"clear"},nativeOn:{click:function(o){return t.handleDropdownClick("archive")}}},[e("svg",{staticClass:"dropdown-list-icon icon icon-delete",attrs:{"data-v-20431cdb":"",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 212.982 212.982"}},[e("path",{attrs:{"data-v-20431cdb":"",d:"M131.804 106.491l75.936-75.936c6.99-6.99 6.99-18.323 0-25.312-6.99-6.99-18.322-6.99-25.312 0L106.491 81.18 30.554 5.242c-6.99-6.99-18.322-6.99-25.312 0-6.989 6.99-6.989 18.323 0 25.312l75.937 75.936-75.937 75.937c-6.989 6.99-6.989 18.323 0 25.312 6.99 6.99 18.322 6.99 25.312 0l75.937-75.937 75.937 75.937c6.989 6.99 18.322 6.99 25.312 0 6.99-6.99 6.99-18.322 0-25.312l-75.936-75.936z"}})])]),t._v(" "),t.focus.completed?e("dropdown-option",{staticClass:"focus-new",attrs:{name:"New","data-test":"new"},nativeOn:{click:function(o){return t.handleDropdownClick("new")}}},[e("svg",{staticClass:"dropdown-list-icon icon icon-new",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 212.982 212.982"}},[e("path",{attrs:{d:"M131.804 106.491l75.936-75.936c6.99-6.99 6.99-18.323 0-25.312-6.99-6.99-18.322-6.99-25.312 0L106.491 81.18 30.554 5.242c-6.99-6.99-18.322-6.99-25.312 0-6.989 6.99-6.989 18.323 0 25.312l75.937 75.936-75.937 75.937c-6.989 6.99-6.989 18.323 0 25.312 6.99 6.99 18.322 6.99 25.312 0l75.937-75.937 75.937 75.937c6.989 6.99 18.322 6.99 25.312 0 6.99-6.99 6.99-18.322 0-25.312l-75.936-75.936z"}})])]):t._e(),t._v(" "),t.inPomodoro?t._e():e("dropdown-option",{staticClass:"pomodoro-timer",attrs:{"is-plus":!0,name:"Start Pomodoro Timer","data-test":"pomodoro-timer"},nativeOn:{click:function(o){return t.startPomodoroTimer(o)}}},[e("svg",{staticClass:"dropdown-list-icon icon icon-pomodoro",attrs:{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M427.252 93.939c-42.503-26.268-97.046-35.291-143.541-25.641l.01-.021C293.236 49.25 309.9 40 334.667 40c11.046 0 20-8.954 20-20s-8.954-20-20-20C303.084 0 274.696 11.109 256 \t37.029 237.305 11.111 208.918 0 177.333 0c-11.046 0-20 8.954-20 20s8.954 20 20 20c24.333 0 40.828 8.919 50.428 27.267.18.343.351.687.523 1.031C126.652 47.206 0 110.518 0 255.958 0 394.862 96.599 512 256 512c159.009 0 256-116.731 256-256.042 0-70.703-30.098-128.243-84.748-162.019zm-180.196 22.616a20.07 20.07 0 0 0 17.889 0c68.531-34.269 218.655-.395 206.296 158.778h-96.574V256c0-11.046-8.954-20-20-20s-20 8.954-20 20v19.333H276v-58.667c0-11.046-8.954-20-20-20s-20 8.954-20 20v58.667h-58.667V256c0-11.046-8.954-20-20-20s-20 8.954-20 20v19.333H40.76C28.521 117.712 177.219 81.638 247.056 116.555zM256 472c-111.908 0-185.684-65.315-208.727-156.667h417.453C441.728 406.508 368.115 472 256 472zm33.809-92.476c7.811 7.811 7.811 20.474 0 28.284-7.811 7.811-20.474 7.81-28.284 0L256 402.284l-5.524 5.524c-7.811 7.811-20.474 7.811-28.284 0s-7.811-20.474 0-28.284l19.667-19.667c7.811-7.811 20.474-7.811 28.284 0z"}})])]),t._v(" "),e("dropdown-option",{staticClass:"toggle-autofocus",class:{active:t.autoFocus},attrs:{name:t.autofocusLabel,"data-test":"autofocus","is-plus":!0},nativeOn:{click:function(o){return t.toggleAutoFocus(o)}}},[e("svg",{staticClass:"dropdown-list-icon icon icon-autofocus",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 124.512 124.512"}},[e("path",{attrs:{d:"M113.956 57.006l-97.4-56.2c-4-2.3-9 .6-9 5.2v112.5c0 4.6 5 7.5 9 5.2l97.4-56.2c4-2.401 4-8.2 0-10.5z"}})])])],1)],1)])])],1)])};s._withStripped=!0;var n=e(1940),a=e(9385),d=e(2672);const i={name:"FocusContent",components:{Dropdown:a.default,DropdownOption:d.default},mixins:[n.Z],props:{focus:{type:Object,default:()=>({})},inPomodoro:{type:Boolean,default:!1}},data:()=>({showDropdown:!1,autoFocus:m.models.customization.get("autoFocus")}),computed:{autofocusLabel(){return(this.autoFocus?"Turn off":"Turn on")+" Autofocus"}},created(){this.$e.listenTo(m.models.customization,"change:autoFocus",this.autoFocusChanged),m.commandManager.ensureCommandLoaded("settings.panels.todo",(()=>{m.commandManager.execute("settings.panels.todo")}))},destroyed(){this.$e.stopListening(m.models.customization,"change:autoFocus",this.autoFocusChanged)},methods:{handleDropdownClick(t){this.changeShowDropdown(!1),this.$emit(t)},toggleAutoFocus(){this.changeShowDropdown(!1),m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus",sourceEvent:"Dash: focus"})},startPomodoroTimer(){this.changeShowDropdown(!1),this.$plus?(m.sendEvent("Focus","Start Pomodoro timer"),m.trigger("pomodoro:show"),localStorage.setItem("pomodoro-focus-timer",!0)):m.cmd("modal.open","UPSELL_POMODORO",{sourceEvent:"Dash: focus"})},changeShowDropdown(t){this.showDropdown=t},autoFocusChanged(){this.autoFocus=m.models.customization.get("autoFocus")}}};e(5243);var c=(0,e(1900).Z)(i,s,[],!1,null,"20431cdb",null);c.options.__file="source/addins-vue/focus/FocusContent.vue";const r=c.exports},9385:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>d});var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideDropdown,expression:"hideDropdown"}],staticClass:"more more-dash",class:{"shift-to-left":t.shiftToLeft,"dropdown-visible":t.showDropdown},attrs:{"data-test":"more-container"}},[e("div",{staticClass:"icon-wrapper dash-icon-wrapper more-toggle",attrs:{"data-test":"more-toggle","data-ob":t.dataOb},on:{click:function(o){return t.$emit("show-dropdown-change",!t.showDropdown)}}},[e("svg",{staticClass:"icon icon-ellipsis dash-icon more-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"}},[e("path",{attrs:{d:"M8 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM52 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM30 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8z"}})])]),t._v(" "),e("transition",{attrs:{name:"open"}},[t.showDropdown?e("div",{ref:"dropdown",staticClass:"app dropdown more-dropdown dash-dropdown nipple nipple-top-left"},[t._t("header"),t._v(" "),t._t("upsell"),t._v(" "),e("ul",{staticClass:"dropdown-list",class:{"dropdown-hide":t.$slots.upsell},attrs:{"data-test":"dropdown-options"}},[t._t("default")],2)],2):t._e()])],1)};s._withStripped=!0;const n={doNotWaitForMount:!0,name:"Dropdown",directives:{ClickOutside:e(8094).Z},props:{dataOb:{type:String,default:""},showDropdown:{type:Boolean,default:!1}},data:()=>({shiftToLeft:!1}),watch:{showDropdown(t){t?(this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded),window.addEventListener("resize",this.debouncedDropdownShift)):window.removeEventListener("resize",this.debouncedDropdownShift)}},created(){this.$e.listenTo(m,"globalEvent:esc",this.hideDropdown),this.$e.listenTo(m,"globalEvent:toggle:bottom-right",this.hideDropdown)},destroyed(){this.$e.stopListening(m,"globalEvent:esc",this.hideDropdown),this.$e.stopListening(m,"globalEvent:toggle:bottom-right",this.hideDropdown),window.removeEventListener("resize",this.shouldDropdownShiftToLeft)},methods:{hideDropdown(){this.showDropdown&&this.$emit("show-dropdown-change",!1)},shiftDropdownLeftIfNeeded(){const t=this.$refs.dropdown&&this.$refs.dropdown.getBoundingClientRect();if(!t)return;const o=window.innerWidth-t.right;this.shiftToLeft=!(o>=135)},debouncedDropdownShift(){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded)}),200)}}};e(7549);var a=(0,e(1900).Z)(n,s,[],!1,null,"c8d4d4da",null);a.options.__file="source/addins-vue/shared_components/Dropdown.vue";const d=a.exports},2672:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>d});var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("li",{class:{"has-descrption":t.description}},[e("div",{staticClass:"dropdown-list-label-wrapper",attrs:{"data-test":"drop-down-wrapper"}},[t.$slots.default?e("span",{staticClass:"dropdown-list-icon-wrapper"},[t._t("default")],2):t._e(),t._v(" "),e("span",{staticClass:"dropdown-list-label",attrs:{"data-test":"name"}},[t._v(t._s(t.name))]),t.isPlus&&!this.$plus?e("span",{staticClass:"badge badge-plus",attrs:{"data-test":"beta"}},[t._v("Plus")]):t._e()]),t._v(" "),t.description?e("div",{staticClass:"dropdown-list-description",attrs:{"data-test":"description"}},[t._v(t._s(t.description))]):t._e()])};s._withStripped=!0;const n={name:"DropdownOption",doNotWaitForMount:!0,props:{name:{type:String,default:""},isPlus:{type:Boolean,default:!1},description:{type:String,default:""}}};var a=(0,e(1900).Z)(n,s,[],!1,null,null,null);a.options.__file="source/addins-vue/shared_components/DropdownOption.vue";const d=a.exports},5243:(t,o,e)=>{var s=e(698);"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,e(1372).Z)("30066db4",s,!1,{ssrId:!0})},7549:(t,o,e)=>{var s=e(3387);"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,e(1372).Z)("569c9fee",s,!1,{ssrId:!0})}}]);